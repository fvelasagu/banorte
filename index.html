<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pago Banorte</title>
</head>
<body>
    <p>Procesando pago, por favor espera...</p>

    <script src="https://multicobros.banorte.com/orquestador/resources/js/jquery-3.3.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.2/jquery.modal.min.js"></script>
    <script src="https://multicobros.banorte.com/orquestador/lightbox/checkoutV2.js"></script>

    <script>
        const ENV      = "pro";
        const PARAMS   = "lgY4kNdDDtFz3pe8PluLJ/m0eftGjB6/cJWUglwVHir11QqquhbqBNbmj+bgqYj1LuAa2XfFBuDdjTqBG76AaLfKPbAcd6f3bV1yWbwl7/Znys8Wn+sOOsbQPgoigjLOJGz7IgFGUMI6P2Pb8DQOQBqFuVUrBhe+vOhJamkWtTzgUaWmH6qStMEv5QECZdPSVzQEM6MkeUMwLTTgm4lrbc5GAQddQNi68avzwn6qRPGH9Snfcbbi9fqEjs0FyZifuqECE0N3o/EgAwuoMFRSbV5II8YoPyOzWxhBK96F6nmt12VtTtLFnHpByqdLA4U9f0IM4c7vwCN2xdNU2/V3sw%3D%3D:::lQgNryhLo+xRxptT8zI/lEsaq0tK7OEkeiIG3X8ya3b1pFLELIhWPRZSy8hzRpW+Pw8EYGMiqOYttWHhQh42exWVpqjP//y7kWszBGrz6k7Hhm1b+kHKXYI3M5PzhuaQoebE5jsrTTFevbV+qagOHz+HxvBmqPJeIUlNWpTvtNaTgXpiB+VqT2e/JrpfltYmGsFTVlcp06dgXA2u6dpLVCJwuRqKlZM5OSGfHo6Dq99fRolchr6SCY2SgBpt/cFSTSfGiKVYST9749tQ8B6X+HLfuaERrzo6LtCtqpvpLePXBSGIYUnJf6XUBg00p80AHOgrCHOZqXaSD8TW1qxYmpCMRMmBw/CmxvIVXgP+PpUU";

        function initPayment() {
            console.log("Inicializando Payment con ENV:", ENV);
            console.log("Params:", PARAMS);

            try {
                Payment.setEnv(ENV);
                Payment.startPayment({
                    Params: PARAMS,
                    onClosed: function(r) {
                        console.log("Payment cerrado:", r);
                        redirectWithStatus('closed', r);
                    },
                    onError: function(e) {
                        console.error("Payment error:", e);
                        redirectWithStatus('error', e);
                    },
                    onSuccess: function(r) {
                        console.log("Payment Ã©xito:", r);
                        redirectWithStatus('success', r);
                    },
                    onCancel: function(r) {
                        console.log("Payment cancelado:", r);
                        redirectWithStatus('cancel', r);
                    }
                });

                console.log("Payment iniciado correctamente");
            } catch (error) {
                console.error("Error inicializando Payment:", error);
            }
        }

        window.addEventListener('load', initPayment);
    </script>
</body>
</html>
